Exception on /upload [POST]
Traceback (most recent call last):
  File "/Users/lenox27/LENOX/venv-lenox27/lib/python3.11/site-packages/flask/app.py", line 1463, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lenox27/LENOX/venv-lenox27/lib/python3.11/site-packages/flask/app.py", line 872, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lenox27/LENOX/venv-lenox27/lib/python3.11/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/Users/lenox27/LENOX/venv-lenox27/lib/python3.11/site-packages/flask/app.py", line 870, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lenox27/LENOX/venv-lenox27/lib/python3.11/site-packages/flask/app.py", line 855, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lenox27/LENOX/main.py", line 85, in upload_document
    if not allowed_file(file.filename):
           ^^^^^^^^^^^^
NameError: name 'allowed_file' is not defined
Outgoing response: 500 INTERNAL SERVER ERROR
Incoming request: GET /
Outgoing response: 200 OK
Incoming request: GET /static/styles.css
Incoming request: GET /static/images/logo.png
Incoming request: GET /static/script.js
Outgoing response: 304 NOT MODIFIED
Outgoing response: 304 NOT MODIFIED
Outgoing response: 304 NOT MODIFIED
Incoming request: GET /static/images/favicon.ico
Outgoing response: 304 NOT MODIFIED
Incoming request: POST /query
Processed query with convchain, result: {'type': 'text', 'content': 'Hello! How can I assist you today? If you have any questions or need help with something, feel free to let me know!'}
Outgoing response: 200 OK
Incoming request: POST /upload
Session data before upload: <SecureCookieSession {'session_id': '7ebb15fe5219f0404f0c199bf9ba00a29ec3feb3ae7d4a94'}>
File successfully uploaded
Outgoing response: 200 OK
Incoming request: POST /query
Processed query with convchain, result: {'type': 'text', 'content': 'I currently do not have direct access to specific files or documents like "slack_docs" to provide a summary. If you can provide me with the content or key points from the "slack_docs" document that you\'d like me to summarize, I\'d be happy to assist you in summarizing the information or providing insights based on the content you provide. Feel free to share the details you\'d like summarized from the "slack_docs" document.'}
Outgoing response: 200 OK
Incoming request: GET /
Outgoing response: 200 OK
Incoming request: GET /static/styles.css
Incoming request: GET /static/images/logo.png
Incoming request: GET /static/script.js
Outgoing response: 304 NOT MODIFIED
Outgoing response: 304 NOT MODIFIED
Outgoing response: 304 NOT MODIFIED
Incoming request: GET /static/images/favicon.ico
Outgoing response: 304 NOT MODIFIED
Incoming request: POST /query
Processed query with convchain, result: {'type': 'text', 'content': 'Hello! How can I assist you today? If you have any questions or need help with something, feel free to let me know!'}
Outgoing response: 200 OK
Incoming request: POST /upload
Session data before upload: <SecureCookieSession {'session_id': '7ebb15fe5219f0404f0c199bf9ba00a29ec3feb3ae7d4a94'}>
Outgoing response: 400 BAD REQUEST
Incoming request: GET /
Outgoing response: 200 OK
Incoming request: GET /static/styles.css
Incoming request: GET /static/images/logo.png
Outgoing response: 304 NOT MODIFIED
Outgoing response: 304 NOT MODIFIED
Incoming request: GET /static/script.js
Outgoing response: 200 OK
Incoming request: GET /static/images/favicon.ico
Outgoing response: 304 NOT MODIFIED
Incoming request: GET /
Outgoing response: 200 OK
Incoming request: GET /static/styles.css
Incoming request: GET /static/script.js
Outgoing response: 200 OK
Outgoing response: 304 NOT MODIFIED
Incoming request: GET /static/images/logo.png
Outgoing response: 304 NOT MODIFIED
Incoming request: GET /static/images/favicon.ico
Outgoing response: 304 NOT MODIFIED
Incoming request: POST /query
Processed query with convchain, result: {'type': 'text', 'content': 'Hey there! How can I assist you today? If you have any questions or need help with something, feel free to let me know!'}
Outgoing response: 200 OK
Incoming request: POST /query
Processed query with convchain, result: {'type': 'text', 'content': 'I currently don\'t have access to external files for summarization. If you can provide the content or key points from the "togetherai_docs.txt" file, I\'d be happy to help summarize it for you. Let me know how I can assist you further!'}
Outgoing response: 200 OK
Incoming request: GET /
Outgoing response: 200 OK
Incoming request: GET /static/styles.css
Incoming request: GET /static/images/logo.png
Incoming request: GET /static/script.js
Outgoing response: 304 NOT MODIFIED
Outgoing response: 304 NOT MODIFIED
Outgoing response: 304 NOT MODIFIED
Incoming request: GET /static/images/favicon.ico
Outgoing response: 304 NOT MODIFIED
Incoming request: POST /query
Processed query with convchain, result: {'type': 'text', 'content': 'TogetherAI is an AI-powered platform that offers a wide range of features and capabilities to enhance collaboration, communication, and productivity in various settings. Here are some key aspects of TogetherAI:\n\n1. **Collaboration Tools**: TogetherAI provides tools for team collaboration, project management, and communication. It enables seamless interaction among team members, facilitating efficient workflows and coordination.\n\n2. **AI-Powered Insights**: The platform leverages artificial intelligence to provide valuable insights and analytics. It can analyze data, patterns, and trends to help users make informed decisions and improve performance.\n\n3. **Virtual Assistance**: TogetherAI offers virtual assistant capabilities to streamline tasks, manage schedules, and assist users in various activities. The virtual assistant can provide support, reminders, and information as needed.\n\n4. **Integration with Existing Tools**: The platform integrates with a variety of existing tools and services to enhance functionality and connectivity. This integration allows users to access information from multiple sources within the TogetherAI environment.\n\n5. **Customization and Personalization**: Users can customize their experience on TogetherAI based on their preferences and needs. Personalization options help tailor the platform to individual requirements, making it more user-friendly and efficient.\n\n6. **Security and Privacy**: TogetherAI prioritizes security and privacy, ensuring that user data is protected and confidential. The platform implements measures to safeguard information and maintain a secure environment for collaboration.\n\nOverall, TogetherAI aims to empower users with AI-driven capabilities to foster collaboration, enhance productivity, and optimize workflows in a digital workspace. It serves as a comprehensive solution for teams and individuals looking to leverage technology for improved communication and efficiency.'}
Outgoing response: 200 OK
Incoming request: POST /query
Processed query with convchain, result: {'type': 'text', 'content': '"Slack_docs" could refer to a specific feature, functionality, or documentation related to the integration of Slack, a popular team communication and collaboration platform. Here are some aspects that "Slack_docs" might encompass:\n\n1. **Document Sharing**: Slack allows users to share documents, files, and other resources within channels or direct messages. "Slack_docs" could refer to the documentation shared through Slack for reference or collaboration purposes.\n\n2. **Collaborative Editing**: Slack integrates with various document editing tools like Google Docs, Dropbox Paper, or Microsoft Office, enabling real-time collaboration on documents. "Slack_docs" could involve collaborative editing and feedback on shared documents.\n\n3. **File Management**: Slack provides a centralized location for storing and accessing files shared within conversations. "Slack_docs" might involve organizing and managing documents effectively within Slack for easy retrieval.\n\n4. **Document Versioning**: Some Slack integrations offer version control for documents shared in conversations. "Slack_docs" could include features related to tracking document versions and changes over time.\n\n5. **Document Search**: Slack\'s search functionality allows users to quickly find specific documents or information shared in conversations. "Slack_docs" might involve searching for and retrieving relevant documents efficiently.\n\n6. **Document Collaboration Tools**: Slack offers integrations with various productivity tools that enhance document collaboration, such as task management apps, project management tools, and note-taking applications. "Slack_docs" could encompass using these tools within Slack for seamless collaboration.\n\nIf you have a specific context or use case in mind regarding "Slack_docs," feel free to provide more details so I can offer a more tailored explanation or assistance.'}
Outgoing response: 200 OK
Incoming request: POST /query
Processed query with convchain, result: {'type': 'text', 'content': 'It seems like "openbb_docs" is a term or topic that I\'m not familiar with. If "openbb_docs" refers to a specific platform, software, project, or documentation related to OpenBB, please provide more context or details so that I can offer you a more accurate explanation or assistance. Feel free to share additional information about OpenBB or "openbb_docs" so I can provide you with the information you\'re looking for.'}
Outgoing response: 200 OK
Incoming request: POST /query
